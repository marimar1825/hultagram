{% extends 'base.html' %}

{% block content %}
    <h2>All Posts</h2>
    {% for post in posts %}
        <div class="post">
            <img src="{{ url_for('static', filename='uploads/' + post.image_file) }}" alt="Post image">
            <p>{{ post.caption }}</p>
            <p>Likes: {{ post.like_count }}</p>
            <p>{{ post.time_since() }} hours ago</p>
            <form action="{{ url_for('like_post', post_id=post.id) }}" method="POST">
                <button type="submit">Like</button>
            </form>
            <a href="{{ url_for('post_detail', post_id=post.id) }}">View Post</a>
        </div>
    {% endfor %}
{% endblock %}
